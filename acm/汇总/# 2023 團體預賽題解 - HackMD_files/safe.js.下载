(function(){"use strict";var P,w,J,L,j,T={306:function(y,i){i.q=void 0,i.q="3.2.2"},63:function(y,i,g){var v,_=this&&this.__extends||(v=function(r,a){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,u){f.__proto__=u}||function(f,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(f[s]=u[s])},v(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function f(){this.constructor=r}v(r,a),r.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,f=1,u=arguments.length;f<u;f++)for(var s in a=arguments[f])Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s]);return r},m.apply(this,arguments)},e=this&&this.__read||function(r,a){var f=typeof Symbol=="function"&&r[Symbol.iterator];if(!f)return r;var u,s,c=f.call(r),h=[];try{for(;(a===void 0||a-- >0)&&!(u=c.next()).done;)h.push(u.value)}catch(d){s={error:d}}finally{try{u&&!u.done&&(f=c.return)&&f.call(c)}finally{if(s)throw s.error}}return h},l=this&&this.__spreadArray||function(r,a,f){if(f||arguments.length===2)for(var u,s=0,c=a.length;s<c;s++)!u&&s in a||(u||(u=Array.prototype.slice.call(a,0,s)),u[s]=a[s]);return r.concat(u||Array.prototype.slice.call(a))},t=this&&this.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,f=a&&r[a],u=0;if(f)return f.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&u>=r.length&&(r=void 0),{value:r&&r[u++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(i,"__esModule",{value:!0}),i.SafeHandler=i.SafeMathDocumentMixin=void 0;var n=g(477);function o(r){var a;return a=function(f){function u(){for(var s,c,h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var p=f.apply(this,l([],e(h),!1))||this;p.safe=new p.options.SafeClass(p,p.options.safeOptions);var S=p.constructor.ProcessBits;S.has("safe")||S.allocate("safe");try{for(var x=t(p.inputJax),M=x.next();!M.done;M=x.next()){var b=M.value;b.name.match(/MathML/)?(b.mathml.filterAttribute=p.safe.mmlAttribute.bind(p.safe),b.mathml.filterClassList=p.safe.mmlClassList.bind(p.safe)):b.name.match(/TeX/)&&b.postFilters.add(p.sanitize.bind(b),-5.5)}}catch(z){s={error:z}}finally{try{M&&!M.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}return p}return _(u,f),u.prototype.sanitize=function(s){s.math.root=this.parseOptions.root,s.document.safe.sanitize(s.math,s.document)},u}(r),a.OPTIONS=m(m({},r.OPTIONS),{safeOptions:m({},n.Safe.OPTIONS),SafeClass:n.Safe}),a}i.SafeMathDocumentMixin=o,i.SafeHandler=function(r){return r.documentClass=o(r.documentClass),r}},509:function(y,i,g){var v=this&&this.__values||function(e){var l=typeof Symbol=="function"&&Symbol.iterator,t=l&&e[l],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},_=this&&this.__read||function(e,l){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n,o,r=t.call(e),a=[];try{for(;(l===void 0||l-- >0)&&!(n=r.next()).done;)a.push(n.value)}catch(f){o={error:f}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a};Object.defineProperty(i,"__esModule",{value:!0}),i.SafeMethods=void 0;var m=g(914);i.SafeMethods={filterURL:function(e,l){var t=(l.match(/^\s*([a-z]+):/i)||[null,""])[1].toLowerCase(),n=e.allow.URLs;return n==="all"||n==="safe"&&(e.options.safeProtocols[t]||!t)?l:null},filterClassList:function(e,l){var t=this;return l.trim().replace(/\s\s+/g," ").split(/ /).map(function(n){return t.filterClass(e,n)||""}).join(" ").trim().replace(/\s\s+/g,"")},filterClass:function(e,l){var t=e.allow.classes;return t==="all"||t==="safe"&&l.match(e.options.classPattern)?l:null},filterID:function(e,l){var t=e.allow.cssIDs;return t==="all"||t==="safe"&&l.match(e.options.idPattern)?l:null},filterStyles:function(e,l){var t,n,o,r;if(e.allow.styles==="all")return l;if(e.allow.styles!=="safe")return null;var a=e.adaptor,f=e.options;try{var u=a.node("div",{style:l}),s=a.node("div");try{for(var c=v(Object.keys(f.safeStyles)),h=c.next();!h.done;h=c.next()){var d=h.value;if(f.styleParts[d])try{for(var p=(o=void 0,v(["Top","Right","Bottom","Left"])),S=p.next();!S.done;S=p.next()){var x,M=d+S.value;(x=this.filterStyle(e,M,u))&&a.setStyle(s,M,x)}}catch(b){o={error:b}}finally{try{S&&!S.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}else(x=this.filterStyle(e,d,u))&&a.setStyle(s,d,x)}}catch(b){t={error:b}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}l=a.allStyles(s)}catch{l=""}return l},filterStyle:function(e,l,t){var n=e.adaptor.getStyle(t,l);if(typeof n!="string"||n===""||n.match(/^\s*calc/)||n.match(/javascript:/)&&!e.options.safeProtocols.javascript||n.match(/data:/)&&!e.options.safeProtocols.data)return null;var o=l.replace(/Top|Right|Left|Bottom/,"");return e.options.safeStyles[l]||e.options.safeStyles[o]?this.filterStyleValue(e,l,n,t):null},filterStyleValue:function(e,l,t,n){var o=e.options.styleLengths[l];if(!o)return t;if(typeof o!="string")return this.filterStyleLength(e,l,t);var r=this.filterStyleLength(e,o,e.adaptor.getStyle(n,o));return r?(e.adaptor.setStyle(n,o,r),e.adaptor.getStyle(n,l)):null},filterStyleLength:function(e,l,t){if(!t.match(/^(.+)(em|ex|ch|rem|px|mm|cm|in|pt|pc|%)$/))return null;var n=(0,m.length2em)(t,1),o=e.options.styleLengths[l],r=_(Array.isArray(o)?o:[-e.options.lengthMax,e.options.lengthMax],2),a=r[0],f=r[1];return a<=n&&n<=f?t:(n<a?a:f).toFixed(3).replace(/\.?0+$/,"")+"em"},filterFontSize:function(e,l){return this.filterStyleLength(e,"fontSize",l)},filterSizeMultiplier:function(e,l){var t=_(e.options.scriptsizemultiplierRange||[-1/0,1/0],2),n=t[0],o=t[1];return Math.min(o,Math.max(n,parseFloat(l))).toString()},filterScriptLevel:function(e,l){var t=_(e.options.scriptlevelRange||[-1/0,1/0],2),n=t[0],o=t[1];return Math.min(o,Math.max(n,parseInt(l))).toString()},filterData:function(e,l,t){return t.match(e.options.dataPattern)?l:null}}},477:function(y,i,g){var v=this&&this.__assign||function(){return v=Object.assign||function(t){for(var n,o=1,r=arguments.length;o<r;o++)for(var a in n=arguments[o])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},v.apply(this,arguments)},_=this&&this.__values||function(t){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&t[n],r=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(i,"__esModule",{value:!0}),i.Safe=void 0;var m=g(77),e=g(509),l=function(){function t(n,o){this.filterAttributes=new Map([["href","filterURL"],["src","filterURL"],["altimg","filterURL"],["class","filterClassList"],["style","filterStyles"],["id","filterID"],["fontsize","filterFontSize"],["mathsize","filterFontSize"],["scriptminsize","filterFontSize"],["scriptsizemultiplier","filterSizeMultiplier"],["scriptlevel","filterScriptLevel"],["data-","filterData"]]),this.filterMethods=v({},e.SafeMethods),this.adaptor=n.adaptor,this.options=o,this.allow=this.options.allow}return t.prototype.sanitize=function(n,o){try{n.root.walkTree(this.sanitizeNode.bind(this))}catch(r){o.options.compileError(o,n,r)}},t.prototype.sanitizeNode=function(n){var o,r,a=n.attributes.getAllAttributes();try{for(var f=_(Object.keys(a)),u=f.next();!u.done;u=f.next()){var s=u.value,c=this.filterAttributes.get(s);if(c){var h=this.filterMethods[c](this,a[s]);h?h!==(typeof h=="number"?parseFloat(a[s]):a[s])&&(a[s]=h):delete a[s]}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(r=f.return)&&r.call(f)}finally{if(o)throw o.error}}},t.prototype.mmlAttribute=function(n,o){if(n==="class")return null;var r=this.filterAttributes.get(n)||(n.substr(0,5)==="data-"?this.filterAttributes.get("data-"):null);if(!r)return o;var a=this.filterMethods[r](this,o,n);return typeof a=="number"||typeof a=="boolean"?String(a):a},t.prototype.mmlClassList=function(n){var o=this;return n.map(function(r){return o.filterMethods.filterClass(o,r)}).filter(function(r){return r!==null})},t.OPTIONS={allow:{URLs:"safe",classes:"safe",cssIDs:"safe",styles:"safe"},lengthMax:3,scriptsizemultiplierRange:[.6,1],scriptlevelRange:[-2,2],classPattern:/^mjx-[-a-zA-Z0-9_.]+$/,idPattern:/^mjx-[-a-zA-Z0-9_.]+$/,dataPattern:/^data-mjx-/,safeProtocols:(0,m.expandable)({http:!0,https:!0,file:!0,javascript:!1,data:!1}),safeStyles:(0,m.expandable)({color:!0,backgroundColor:!0,border:!0,cursor:!0,margin:!0,padding:!0,textShadow:!0,fontFamily:!0,fontSize:!0,fontStyle:!0,fontWeight:!0,opacity:!0,outline:!0}),styleParts:(0,m.expandable)({border:!0,padding:!0,margin:!0,outline:!0}),styleLengths:(0,m.expandable)({borderTop:"borderTopWidth",borderRight:"borderRightWidth",borderBottom:"borderBottomWidth",borderLeft:"borderLeftWidth",paddingTop:!0,paddingRight:!0,paddingBottom:!0,paddingLeft:!0,marginTop:!0,marginRight:!0,marginBottom:!0,marginLeft:!0,outlineTop:!0,outlineRight:!0,outlineBottom:!0,outlineLeft:!0,fontSize:[.707,1.44]})},t}();i.Safe=l},723:function(y,i){MathJax._.components.global.isObject,MathJax._.components.global.combineConfig,MathJax._.components.global.combineDefaults,i.r8=MathJax._.components.global.combineWithMathJax,MathJax._.components.global.MathJax},77:function(y,i){Object.defineProperty(i,"__esModule",{value:!0}),i.isObject=MathJax._.util.Options.isObject,i.APPEND=MathJax._.util.Options.APPEND,i.REMOVE=MathJax._.util.Options.REMOVE,i.OPTIONS=MathJax._.util.Options.OPTIONS,i.Expandable=MathJax._.util.Options.Expandable,i.expandable=MathJax._.util.Options.expandable,i.makeArray=MathJax._.util.Options.makeArray,i.keys=MathJax._.util.Options.keys,i.copy=MathJax._.util.Options.copy,i.insert=MathJax._.util.Options.insert,i.defaultOptions=MathJax._.util.Options.defaultOptions,i.userOptions=MathJax._.util.Options.userOptions,i.selectOptions=MathJax._.util.Options.selectOptions,i.selectOptionsFromKeys=MathJax._.util.Options.selectOptionsFromKeys,i.separateOptions=MathJax._.util.Options.separateOptions,i.lookup=MathJax._.util.Options.lookup},914:function(y,i){Object.defineProperty(i,"__esModule",{value:!0}),i.BIGDIMEN=MathJax._.util.lengths.BIGDIMEN,i.UNITS=MathJax._.util.lengths.UNITS,i.RELUNITS=MathJax._.util.lengths.RELUNITS,i.MATHSPACE=MathJax._.util.lengths.MATHSPACE,i.length2em=MathJax._.util.lengths.length2em,i.percent=MathJax._.util.lengths.percent,i.em=MathJax._.util.lengths.em,i.emRounded=MathJax._.util.lengths.emRounded,i.px=MathJax._.util.lengths.px}},A={};function O(y){var i=A[y];if(i!==void 0)return i.exports;var g=A[y]={exports:{}};return T[y].call(g.exports,g,g.exports,O),g.exports}P=O(723),w=O(306),J=O(63),L=O(509),j=O(477),MathJax.loader&&MathJax.loader.checkVersion("ui/safe",w.q,"ui"),(0,P.r8)({_:{ui:{safe:{SafeHandler:J,SafeMethods:L,safe:j}}}}),MathJax.startup&&typeof window<"u"&&MathJax.startup.extendHandler(function(y){return(0,J.SafeHandler)(y)})})();
