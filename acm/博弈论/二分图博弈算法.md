## 定义

**二分图博弈**是一类博弈模型（也是公平组合游戏），它可以被抽象为：给出一张**二分图**和**起始点**$H$ ，A和B轮流操作，每次只能选与上个被选择的点（第一回合则是点 $H$ ）**相邻**的点，且不能选择**已选择过**的点，**无法选点**的人输掉。一个经典的二分图博弈模型是在国际象棋棋盘上，双方轮流移动一个士兵，不能走已经走过的格子，问谁先无路可走。

## 结论

考虑二分图的最大匹配，如果最大匹配**一定**包含$H$，那么先手必胜，否则后手必胜。

## 证明

先手只需要沿着匹配边走即可。

如果最大匹配一定包含$H$，那么先手只需沿着匹配边操作，后手无论如何都会选到匹配点，否则我们将这条路径上的匹配状态取反，此时匹配数不变但是不包含$H$。更具体的说，我们按照上面的说法会形成$\{ H \rightarrow^{匹配边} P_0 \rightarrow^{非匹配边} P_1 \rightarrow \cdots \rightarrow^{非匹配边} P_n\}$，然后我们就可以将边的状态取反，此时不包括$H$。这与假设不符。

如果最大匹配不一定包含$H$，那么先手必定选到匹配点，后手也选相应的匹配点即可，否则就有一条增广路，这与选点是最大匹配矛盾。

## 运用

然后我们就可以用网络流或者匈牙利去跑。可以在建图时涉及$H$的边先不管，先跑一次看看结果，再将边放进去看看结果是否变大。

## 题目

你有三个不同的棋子在长度为$n$数轴上，将三个棋子当前所在位置记为一个三元组$(x,y,z)$，每次可以移动其中一个棋子到旁边的位置，即$+1$或$-1$。要求出现的三元组不能重复，先不能操作的人判输。

## 分析

将三元组看成三维坐标上的点，这时我们会发现和黑白棋子二分匹配一样，$(x+y+z)$是奇数还是偶数就可以划分二部点，那么当$n$是偶数时，显然最大匹配就是完美匹配。$n$是奇数时，会有一个和为奇数的点没有办法匹配到，因此和为奇数先手必败否则必胜