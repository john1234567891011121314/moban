## 鞅

鞅的引入是为了解决一类期望进行轮数的问题。

$A=\{A_0,A_1,A_2,\cdots,A_n\}$为随机过程，设$T$为停时（停止时刻）。

那么我们可以尝试构造这样一个势函数，他满足

1. $E(\Phi(A_{n+1}) - \Phi(A_{n}) |A_{0}, \cdots,A_n ) = -1$
2. $\Phi(A_T)$为常数，且$\Phi(A_i)=\Phi(A_T)$当且仅当$i=T$

那么进一步我们可以尝试$X_n=\Phi(A_n)+n$，那么显然$\{ X\}$是一个鞅，那么相应就有$E(X_T)=E(X_0)$，即$E(\Phi(A_T)) + E(T) = E(\Phi(A_0))$，那么我们就有
$$
E(T)=E(\Phi(A_T)) - \Phi(A_0)
$$
通常构造势函数的过程比较板。

### CF1025G Company Acquisitions

#### 题意

### CF1349D Slime and Biscuits

#### 题意

有$n$个人，第$i$个人拥有$a_i$块饼干，每次操作随机选择一块饼干，假设其属于$x$，然后再随机选择一个人$y$，求只有一个人拥有饼干的期望轮数。

#### 分析

套路的，我们设每个人的势函数$f(a)$，那么一开始的状态$A_0$对应的势函数为$\sum f(a_{i,0})$