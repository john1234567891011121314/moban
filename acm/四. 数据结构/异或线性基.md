## 异或线性基
```c++
struct L_B
{
    const int B = 60;
    ll d[61], p[61];
    int cnt, zero;
    L_B()
    {
        memset(d, 0, sizeof(d));
        memset(p, 0, sizeof(p));
        cnt = zero = 0;
    }
    void ins(ll val)
    {
        for (int i = 60; i >= 0; --i)
        {
            if (val & (1ll << i))
            {
                if (!d[i])
                {
                    d[i] = val;
                    cnt++;
                    return;
                }
                val ^= d[i];
            }
        }
        zero = 1;
    }
    ll query_max(ll x)
    {
        ll ret = x;
        for (int i = 60; i >= 0; --i)
        {
            if ((ret ^ d[i]) > ret)
                ret ^= d[i];
        }
        return ret;
    }

    ll query_min()
    {
        for (int i = 0; i <= 60; ++i)
        {
            if (d[i])
                return d[i];
        }
        return 0;
    }

    void rebuild()
    {
        cnt = 0;
        for (int i = 60; i >= 0; --i)
            for (int j = i - 1; j >= 0; --j)
                if (d[i] & (1ll << j))
                    d[i] ^= d[j];
        for (int i = 0; i <= B; ++i)
            if (d[i])
                p[++cnt] = d[i];
    }
    // 求第k小之前需要rebuild,不包括0
    ll kth(ll k)
    {
        int ret = 0;
        if (k >= (1ll << cnt))
            return -1;
        for (int i = 60; i >= 0; --i)
            if (k & (1ll << i))
                ret ^= p[i];
        return ret;
    }
    ll rnk(ll x)
    {
        int rnk = 0, bit = 0;
        for (int i = 0; i <= 60; ++i)
        {
            if (d[i])
            {
                if (x >> i & 1)
                    rnk += 1ll << bit;
                bit++;
            }
        }
        return rnk;
    }
};
L_B merge(const L_B &n1, const L_B &n2)
{
    L_B ret = n1;
    for (int i = 60; i >= 0; --i)
    {
        if (n2.d[i])
            ret.ins(n2.d[i]);
    }
    return ret;
}
```



